# Книжный магазин на Django

Этот проект представляет собой книжный магазин, разработанный на Django. Проект использует PostgreSQL в качестве базы данных, Docker Compose для развертывания и автоматически наполняет базу данных при запуске.

## Основные функции

- Добавление, изменение, удаление и чтение книг (CRUD операции).
- Автоматическое наполнение базы данных 20 книгами при запуске.
- Выполнение 30+ операций CRUD для демонстрации работы с данными.
- Использование Docker Compose для удобного развертывания.

## Требования

- Docker
- Docker Compose

## Установка и запуск

### 1. Клонирование репозитория

Склонируйте репозиторий на ваш компьютер:

```bash
git clone https://github.com/Rijo-ru/network_db_books_store.git
cd network_db_books_store
```

### 2. Настройка окружения

Убедитесь, что у вас установлены Docker и Docker Compose. Если они не установлены, выполните следующие команды:

```bash
sudo apt update
sudo apt install docker.io docker-compose -y
sudo usermod -aG docker $USER
newgrp docker
```

### 3. Запуск проекта

Запустите проект с помощью Docker Compose:

```bash
docker-compose up --build
```

Эта команда:
- Соберет Docker-образы.
- Запустит контейнеры для Django и PostgreSQL.
- Применит миграции.
- Наполнит базу данных 20 книгами.
- Выполнит CRUD операции (обновление, удаление).

### 4. Доступ к проекту

После успешного запуска проект будет доступен по адресу:

- **Django-приложение:** http://localhost:8000/books/
- **Админка Django:** http://localhost:8000/admin/

### 5. Остановка проекта

Чтобы остановить проект, выполните:

```bash
docker-compose down
```

Если вы хотите удалить все данные (включая базу данных), используйте:

```bash
docker-compose down -v
```

## Структура проекта

- **`Dockerfile`**: Описание Docker-образа для Django.
- **`docker-compose.yml`**: Конфигурация для запуска Django и PostgreSQL.
- **`requirements.txt`**: Зависимости Python.
- **`books/`**: Приложение для управления книгами.
  - **`models.py`**: Модель `Book`.
  - **`management/commands/populate_books.py`**: Команда для наполнения базы данных.
- **`book_store/`**: Основной проект Django.
  - **`settings.py`**: Настройки проекта, включая подключение к PostgreSQL.

## Наполнение базы данных

При запуске проекта автоматически выполняются следующие действия:
1. Создается 20 книг с использованием библиотеки `Faker`.
2. Обновляется цена для первых 10 книг (увеличение на 10%).
3. Удаляются последние 5 книг.

## Используемые технологии

- **Django**: Веб-фреймворк для Python.
- **PostgreSQL**: Реляционная база данных.
- **Docker**: Контейнеризация приложения.
- **Docker Compose**: Управление многоконтейнерными приложениями.
- **Faker**: Генерация тестовых данных.

## Лицензия

Этот проект распространяется под лицензией MIT. Подробности см. в файле [LICENSE](LICENSE).

---

### Пример данных в базе

После запуска проекта в базе данных будут следующие данные:

| Название книги          | Автор           | Цена  | Дата публикации |
|-------------------------|-----------------|-------|-----------------|
| The Great Gatsby        | F. Scott Fitzgerald | 15.99 | 1925-04-10      |
| 1984                    | George Orwell   | 12.50 | 1949-06-08      |
| To Kill a Mockingbird   | Harper Lee      | 10.00 | 1960-07-11      |
| ...                     | ...             | ...   | ...             |

---

### Вопросы и поддержка

Если у вас возникли вопросы или проблемы, пожалуйста, создайте [issue](https://github.com/Rijo-ru/network_db_books_store/issues) в репозитории.
